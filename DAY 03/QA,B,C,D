#include <iostream>
#include <cmath>
using namespace std;

// ---------------- Question 1 ----------------
double eoq1(double D, double S, double H, double &totalCost)
{
    double eoq = sqrt((2 * D * S) / H);
    totalCost = (D / eoq) * S + (eoq / 2) * H;
    return eoq;
}

// ---------------- Question 2 ----------------
double eoq2(double D, double S, double price, double rate,
            double &orderCost, double &holdCost)
{
    double H = price * rate;
    double eoq = sqrt((2 * D * S) / H);

    orderCost = (D / eoq) * S;
    holdCost  = (eoq / 2) * H;

    return eoq;
}
    
// ---------------- Question 3 ----------------
double eoq3(double D, double S, double H,
            double &cycleTime, double &totalCost)
{
    double eoq = sqrt((2 * D * S) / H);
    cycleTime = eoq / D;
    totalCost = (D / eoq) * S + (eoq / 2) * H;
    return eoq;
}

// ---------------- Question 4 ----------------
double eoq4(double D, double S, double H,
            double &orders, double &minCost)
{
    double eoq = sqrt((2 * D * S) / H);
    orders  = D / eoq;
    minCost = (D / eoq) * S + (eoq / 2) * H;
    return eoq;
}

int main()
{
    cout << "EOQ MODEL (CLEAN VARIABLE NAMES)\n\n";

    // ========== QUESTION 1 ==========
    double D = 12000;   // demand
    double S = 500;     // ordering cost
    double H = 20;      // holding cost
    double totalCost;

    double EOQ = eoq1(D, S, H, totalCost);

    cout << "QUESTION 1\n";
    cout << "EOQ = " << EOQ << endl;
    cout << "Orders per year = " << D / EOQ << endl;
    cout << "Total cost = Rs " << totalCost << "\n\n";

    // ========== QUESTION 2 ==========
    D = 8000;
    S = 400;
    double price = 80;
    double rate  = 0.25;
    double orderCost, holdCost;

    EOQ = eoq2(D, S, price, rate, orderCost, holdCost);

    cout << "QUESTION 2\n";
    cout << "Holding cost per unit = Rs " << price * rate << endl;
    cout << "EOQ = " << EOQ << endl;
    cout << "Ordering cost = Rs " << orderCost << endl;
    cout << "Holding cost = Rs " << holdCost << endl;

    if (abs(orderCost - holdCost) < 1)
        cout << "Optimality condition verified\n\n";
    else
        cout << "Optimality condition not verified\n\n";

    // ========== QUESTION 3 ==========
    D = 15000;
    S = 600;
    H = 15;
    double cycleTime;

    EOQ = eoq3(D, S, H, cycleTime, totalCost);

    cout << "QUESTION 3\n";
    cout << "EOQ = " << EOQ << endl;
    cout << "Cycle time = " << cycleTime << " years\n";
    cout << "Total cost = Rs " << totalCost << "\n\n";

    // ========== QUESTION 4 ==========
    D = 10000;
    S = 300;
    H = 12;
    double orders, minCost;

    EOQ = eoq4(D, S, H, orders, minCost);

    cout << "QUESTION 4\n";
    cout << "EOQ = " << EOQ << endl;
    cout << "Orders per year = " << orders << endl;
    cout << "Minimum cost = Rs " << minCost << endl;

    return 0;
}
